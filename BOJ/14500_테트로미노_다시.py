N,M = map(int,input().split())
arr = [list(map(int,input().split())) for _ in range(N)]

# 일자 네모 ㄴ ㄴ+ㄱ  엿 순서

n = [[[0,0],[0,1],[0,2],[0,3]],[[0,0],[1,0],[2,0],[3,0]],
     [[0,0],[0,1],[1,0],[1,1]],
     [[0,0],[1,0],[2,0],[2,1]],[[0,0],[1,0],[2,0],[2,-1]],[[0,0],[0,1],[0,2],[-1,2]],[[0,0],[0,1],[0,2],[1,2]],[[0,0],[0,1],[1,1],[2,1]],[[0,0],[1,0],[2,0],[0,1]],
     [[0,0],[0,1],[0,2],[1,0]],[[0,0],[1,0],[1,1],[1,2]],
     [[0,0],[1,0],[1,1],[2,1]],[[0,0],[1,0],[1,-1],[2,-1]],[[0,0],[0,1],[-1,1],[-1,2]],[[0,0],[0,1],[1,1],[1,2]],
     [[0,0],[0,1],[0,2],[1,1]],[[0,0],[1,0],[2,0],[1,1]],[[0,0],[0,1],[0,2],[-1,1]],[[0,0],[0,1],[-1,1],[1,1]]
     ]

ans = -1
for i in range(N):
    for j in range(M):
        for each in n:
            sum = 0
            for e in each:
                ni,nj = i + e[0],j+e[1]
                if ni < 0 or ni >= N or nj < 0 or nj >=M:
                    break
                sum += arr[ni][nj]
            else:
                if sum > ans:
                    ans = sum
print(ans)